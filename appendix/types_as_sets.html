
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Les types en tant qu'ensembles · Une introduction à Elm</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.1">
        <meta name="author" content="Evan Czaplicki">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="types_as_bits.html" />
    
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../bases_du_langage.html">
            
                <a href="../bases_du_langage.html">
            
                    
                    Bases du langage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../architecture/">
            
                <a href="../architecture/">
            
                    
                    L'Architecture Elm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../architecture/buttons.html">
            
                <a href="../architecture/buttons.html">
            
                    
                    Boutons
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../architecture/text_fields.html">
            
                <a href="../architecture/text_fields.html">
            
                    
                    Champs texte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../architecture/forms.html">
            
                <a href="../architecture/forms.html">
            
                    
                    Formulaires
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../types/">
            
                <a href="../types/">
            
                    
                    Les types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../types/reading_types.html">
            
                <a href="../types/reading_types.html">
            
                    
                    Lire les types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../types/type_aliases.html">
            
                <a href="../types/type_aliases.html">
            
                    
                    Les alias de type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../types/custom_types.html">
            
                <a href="../types/custom_types.html">
            
                    
                    Types personnalisés
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../types/pattern_matching.html">
            
                <a href="../types/pattern_matching.html">
            
                    
                    Pattern Matching
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../error_handling/">
            
                <a href="../error_handling/">
            
                    
                    Gestion d'erreur
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../error_handling/maybe.html">
            
                <a href="../error_handling/maybe.html">
            
                    
                    Maybe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../error_handling/result.html">
            
                <a href="../error_handling/result.html">
            
                    
                    Result
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../effects/">
            
                <a href="../effects/">
            
                    
                    Commandes et Souscriptions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../effects/http.html">
            
                <a href="../effects/http.html">
            
                    
                    HTTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../effects/json.html">
            
                <a href="../effects/json.html">
            
                    
                    JSON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../effects/random.html">
            
                <a href="../effects/random.html">
            
                    
                    Random
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../effects/time.html">
            
                <a href="../effects/time.html">
            
                    
                    Time
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../install/">
            
                <a href="../install/">
            
                    
                    Installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../install/editor.html">
            
                <a href="../install/editor.html">
            
                    
                    Éditeur de code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../install/elm.html">
            
                <a href="../install/elm.html">
            
                    
                    Elm
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../interop/">
            
                <a href="../interop/">
            
                    
                    Interopérabilité avec JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../interop/flags.html">
            
                <a href="../interop/flags.html">
            
                    
                    Flags
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../interop/ports.html">
            
                <a href="../interop/ports.html">
            
                    
                    Ports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../interop/custom_elements.html">
            
                <a href="../interop/custom_elements.html">
            
                    
                    Custom Elements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../interop/limits.html">
            
                <a href="../interop/limits.html">
            
                    
                    Limites
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../webapps/">
            
                <a href="../webapps/">
            
                    
                    Applications web
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../webapps/navigation.html">
            
                <a href="../webapps/navigation.html">
            
                    
                    Navigation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../webapps/url_parsing.html">
            
                <a href="../webapps/url_parsing.html">
            
                    
                    Parsing d'URL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../webapps/modules.html">
            
                <a href="../webapps/modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../webapps/structure.html">
            
                <a href="../webapps/structure.html">
            
                    
                    Structure
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../optimization/">
            
                <a href="../optimization/">
            
                    
                    Optimisation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../optimization/lazy.html">
            
                <a href="../optimization/lazy.html">
            
                    
                    Html.lazy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../optimization/keyed.html">
            
                <a href="../optimization/keyed.html">
            
                    
                    Html.keyed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../optimization/asset_size.html">
            
                <a href="../optimization/asset_size.html">
            
                    
                    Minification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../next_steps.html">
            
                <a href="../next_steps.html">
            
                    
                    Prochaines étapes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Annexes
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.12.1" data-path="types_as_sets.html">
            
                <a href="types_as_sets.html">
            
                    
                    Les types en tant qu'ensembles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="types_as_bits.html">
            
                <a href="types_as_bits.html">
            
                    
                    Les types en tant que bits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="function_types.html">
            
                <a href="function_types.html">
            
                    
                    Types de fonctions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Les types en tant qu'ensembles</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="les-types-en-tant-quensembles">Les types en tant qu&apos;ensembles</h1>
<p>Nous avons vu des types primitifs comme <code>Bool</code> et <code>String</code>. Nous avons créé nos propres types personnalisés comme ceci :</p>
<pre><code class="lang-elm"><span class="hljs-keyword">type</span> <span class="hljs-type">Couleur</span> = <span class="hljs-type">Rouge</span> | <span class="hljs-type">Jaune</span> | <span class="hljs-type">Vert</span>
</code></pre>
<p>L&apos;une des techniques les plus importantes de la programmation Elm consiste à faire en sorte que <strong>les valeurs possibles dans le code</strong> correspondent exactement aux <strong>valeurs valides dans la vie réelle</strong>. Cela ne laisse aucune place aux données invalides, et c&apos;est pourquoi j&apos;encourage toujours les gens à se concentrer sur les types personnalisés et les structures de données.</p>
<p>Dans la poursuite de cet objectif, j&apos;ai trouvé utile de comprendre la relation entre les types et les ensembles. Ça a l&apos;air de venir de loin, mais cela aide vraiment à développer votre compréhension !</p>
<h2 id="les-ensembles">Les ensembles</h2>
<p>On peut voir les types comme des ensembles de valeurs.</p>
<ul>
<li><code>Bool</code> est l&apos;ensemble <code>{ True, False }</code></li>
<li><code>Couleur</code> est l&apos;ensemble <code>{ Rouge, Jaubne, Vert }</code></li>
<li><code>Int</code> est l&apos;ensemble <code>{ ... -2, -1, 0, 1, 2 ... }</code></li>
<li><code>Float</code> est l&apos;ensemble <code>{ ... 0.9, 0.99, 0.999 ... 1.0 ... }</code></li>
<li><code>String</code> est l&apos;ensemble <code>{ &quot;&quot;, &quot;a&quot;, &quot;aa&quot;, &quot;aaa&quot; ... &quot;bonjour&quot; ... }</code></li>
</ul>
<p>Ainsi, lorsque vous dites <code>x : Bool</code>, cela revient à dire que <code>x</code> est dans l&apos;ensemble <code>{ True, False }</code>.</p>
<h2 id="cardinalité">Cardinalité</h2>
<p>Des choses intéressantes se produisent lorsque vous commencez à déterminer le nombre de valeurs dans ces ensembles. Par exemple, l&apos;ensemble <code>Bool</code> <code>{ True, False }</code> contient deux valeurs. Ainsi, les mathématiciens disent que <code>Bool</code> a une <a href="https://fr.wikipedia.org/wiki/Cardinalit%C3%A9" target="_blank">cardinalité</a> de deux. Donc conceptuellement :</p>
<ul>
<li>cardinalité(<code>Bool</code>) = 2</li>
<li>cardinalité(<code>Couleur</code>) = 3</li>
<li>cardinalité(<code>Int</code>) = ∞</li>
<li>cardinalité(<code>Float</code>) = ∞</li>
<li>cardinalité(<code>String</code>) = ∞</li>
</ul>
<p>Cela devient plus intéressant lorsque nous commençons à penser à des types comme <code>(Bool, Bool)</code> qui combinent des ensembles.</p>
<blockquote>
<p><strong>Remarque :</strong> La cardinalité pour <code>Int</code> et <code>Float</code> est en fait inférieure à l&apos;infini. Les ordinateurs doivent contraindre les nombres dans un nombre fixe de bits (comme décrit <a href="types_as_bits.html">ici</a>) donc c&apos;est plutôt cardinalité(<code>Int32</code>) = 2^32 and cardinalité(<code>Float32</code>) = 2^32. Au bout du compte, ça fait beaucoup.</p>
</blockquote>
<h2 id="multiplication-tuples-et-records">Multiplication (<em>Tuples</em> et <em>Records</em>)</h2>
<p>Lorsque vous combinez des types avec des tuples, les cardinalités sont multipliées :</p>
<ul>
<li>cardinalité(<code>(Bool, Bool)</code>) = cardinalité(<code>Bool</code>) × cardinalité(<code>Bool</code>) = 2 × 2 = 4</li>
<li>cardinalité(<code>(Bool, Couleur)</code>) = cardinalité(<code>Bool</code>) × cardinalité(<code>Couleur</code>) = 2 × 3 = 6</li>
</ul>
<p>Pour vous en assurer, essayez de lister toutes les valeurs possibles de <code>(Bool, Bool)</code> et <code>(Bool, Couleur)</code>. Correspondent-elles aux chiffres que nous avons prédits ? Et pour <code>(Couleur, Couleur)</code> ?</p>
<p>Mais que se passe-t-il lorsque nous utilisons des ensembles infinis comme <code>Int</code> et <code>String</code> ?</p>
<ul>
<li>cardinalité(<code>(Bool, String)</code>) = 2 × ∞</li>
<li>cardinalité(<code>(Int, Int)</code>) = ∞ × ∞</li>
</ul>
<p>Personnellement, j&apos;aime beaucoup l&apos;idée d&apos;avoir deux infinis. Un ne suffisait pas ? Et puis avoir des infinis infinis. N&apos;allons-nous pas en manquer à un moment donné?</p>
<blockquote>
<p><strong>Remarque :</strong> Jusqu&apos;à présent, nous avons utilisé des tuples, mais les <em>records</em> fonctionnent exactement de la même manière :</p>
<ul>
<li>cardinalité(<code>(Bool, Bool)</code>) = cardinalité(<code>{ x : Bool, y : Bool }</code>)</li>
<li>cardinalité(<code>(Bool, Couleur)</code>) = cardinalité(<code>{ active : Bool, color : Color }</code>)</li>
</ul>
<p>Et si vous définissez <code>type Point = Point Float Float</code> alors cardinalité(<code>Point</code>) est équivalent à cardinalité(<code>(Float, Float)</code>). Tout n&apos;est que multiplication !</p>
</blockquote>
<h2 id="addition-types-personnalisés">Addition (types personnalisés)</h2>
<p>Lorsque vous déterminez la cardinalité d&apos;un type personnalisé, vous additionnez la cardinalité de chaque variante. Commençons par examiner certains types <code>Maybe</code> et <code>Result</code> :</p>
<ul>
<li>cardinalité(<code>Result Bool Couleur</code>) = cardinalité(<code>Bool</code>) + cardinalité(<code>Couleur</code>) = 2 + 3 = 5</li>
<li>cardinalité(<code>Maybe Bool</code>) = 1 + cardinalité(<code>Bool</code>) = 1 + 2 = 3</li>
<li>cardinalité(<code>Maybe Int</code>) = 1 + cardinalité(<code>Int</code>) = 1 + ∞</li>
</ul>
<p>Pour vous persuader que c&apos;est vrai, essayez de lister toutes les valeurs possibles dans les ensembles <code>Maybe Bool</code> et <code>Result Bool Couleur</code>. Est-ce que cela correspond aux chiffres que nous avons obtenus ?</p>
<p>Voici quelques autres exemples :</p>
<pre><code class="lang-elm"><span class="hljs-keyword">type</span> <span class="hljs-type">Hauteur</span>
  = <span class="hljs-type">Pouces</span> <span class="hljs-type">Int</span>
  | <span class="hljs-type">Metres</span> <span class="hljs-type">Float</span>

<span class="hljs-comment">-- cardinalité(Hauteur)</span>
<span class="hljs-comment">-- = cardinalité(Int) + cardinalité(Float)</span>
<span class="hljs-comment">-- = ∞ + ∞</span>


<span class="hljs-keyword">type</span> <span class="hljs-type">Emplacement</span>
  = <span class="hljs-type">NullePart</span>
  | <span class="hljs-type">QuelquePart</span> <span class="hljs-type">Float</span> <span class="hljs-type">Float</span>

<span class="hljs-comment">-- cardinalité(Location)</span>
<span class="hljs-comment">-- = 1 + cardinalité((Float, Float))</span>
<span class="hljs-comment">-- = 1 + cardinalité(Float) × cardinalité(Float)</span>
<span class="hljs-comment">-- = 1 + ∞ × ∞</span>
</code></pre>
<p>Envisager les types personnalisés de cette manière nous aide à voir quand deux types sont équivalents. Par exemple, <code>Emplacement</code> est équivalent à <code>Maybe (Float, Float)</code>. Une fois que vous savez cela, lequel devez-vous utiliser ? Je préfère <code>Emplacement</code> pour deux raisons :</p>
<ol>
<li>Le code devient plus auto-documenté. Pas besoin de se demander si <code>Just (1.6, 1.8)</code> est un emplacement ou une paire de hauteurs.</li>
<li>Le module <code>Maybe</code> peut exposer des fonctions qui n&apos;ont pas de sens pour mes données particulières. Par exemple, la combinaison de deux emplacements ne devrait probablement pas fonctionner comme <code>Maybe.map2</code>. Est-ce qu&apos;un <code>NullePart</code> combiné à un <code>QuelquePart x y</code> devrait donner <code>NullePart</code> ? Ça semble bizarre !</li>
</ol>
<p>En d&apos;autres termes, j&apos;écris quelques lignes de code qui sont <em>similaires</em> à d&apos;autres lignes de codes, mais cela me donne un niveau de clarté et de contrôle extrêmement précieux pour les grandes bases de code et les équipes.</p>
<h2 id="pourquoi-est-ce-utile-">Pourquoi est-ce utile ?</h2>
<p>Voir les « types comme des ensembles » aide à expliquer une classe importante de bogues : les <strong>données invalides</strong>. Par exemple, imaginons que nous voulons représenter la couleur d&apos;un feu de circulation. L&apos;ensemble des valeurs valides est { rouge, orange, vert } mais comment coder cela ? Voici trois approches différentes :</p>
<ul>
<li><p><code>type alias Couleur = String</code> — Nous pourrions décider que <code>&quot;rouge&quot;</code>, <code>&quot;orange&quot;</code>, <code>&quot;vert&quot;</code> sont les trois chaînes que nous utiliserons, et que toutes les autres sont des <em>données invalides</em>. Mais que se passe-t-il si des données invalides sont produites ? Peut-être que quelqu&apos;un fait une faute de frappe comme <code>&quot;roug&quot;</code>. Peut-être que quelqu&apos;un tape <code>&quot;ROUGE&quot;</code> à la place. Toutes les fonctions devraient-elles vérifier les arguments de couleur entrants ? Toutes les fonctions devraient-elles avoir des tests pour s&apos;assurer que les résultats de couleur sont valides ? Le problème fondamental est que cardinalité(<code>Couleur</code>) = ∞, ce qui signifie qu&apos;il y a (∞ - 3) valeurs invalides. Nous devrons faire beaucoup de vérifications pour nous assurer qu&apos;aucune d&apos;entre elles n&apos;apparaît !</p>
</li>
<li><p><code>type alias Couleur = { rouge : Bool, orange : Bool, vert : Bool }</code> — L&apos;idée ici est que l&apos;idée de &quot;rouge&quot; est représentée par <code>Couleur True False False</code>. Mais qu&apos;en est-il de <code>Couleur True True True</code> ? Qu&apos;est-ce que cela signifie d&apos;être de toutes les couleurs à la fois ? Il s&apos;agit de <em>données invalides</em>. Tout comme avec la représentation <code>String</code>, nous finissons par écrire des vérifications dans notre code et des tests pour nous assurer qu&apos;il n&apos;y a pas d&apos;erreur. Dans ce cas, cardinalité(<code>Color</code>) = 2 × 2 × 2 = 8, il n&apos;y a donc que 5 valeurs invalides. Il y a certainement moins de façons de se tromper, mais nous devrions encore avoir quelques vérifications et tests.</p>
</li>
<li><p><code>type Couleur = Rouge | Orange | Vert</code> — Dans ce cas, les données invalides sont impossibles. cardinalité(<code>Color</code>) = 1 + 1 + 1 = 3, correspondant exactement à l&apos;ensemble des trois valeurs dans la vie réelle. Il est donc inutile de vérifier les données de couleur non valides dans notre code ou nos tests. Elles ne peuvent pas exister !</p>
</li>
</ul>
<p>Donc, l&apos;essentiel ici est qu&apos;<strong>exclure les données non valides rend votre code plus court, plus simple et plus fiable.</strong> En s&apos;assurant que l&apos;ensemble de valeurs <em>possibles</em> dans le code correspond exactement à l&apos;ensemble de valeurs <em>valides</em> dans la vie réelle, de nombreux problèmes disparaissent. C&apos;est un couteau bien aiguisé !</p>
<p>Au fur et à mesure que votre programme change, l&apos;ensemble de valeurs possibles dans le code peut commencer à diverger de l&apos;ensemble de valeurs valides dans la vie réelle. <strong>Je vous recommande fortement de revoir périodiquement vos types pour les faire correspondre à nouveau.</strong> C&apos;est comme remarquer que votre couteau est devenu émoussé et l&apos;aiguiser avec une pierre à aiguiser. Ce type de maintenance est au cœur de la programmation dans Elm.</p>
<p><strong>Lorsque vous commencez à penser de cette façon, vous finissez par avoir besoin de moins de tests, tout en ayant un code plus fiable.</strong> Vous commencez à utiliser moins de dépendances, tout en accomplissant les choses plus rapidement. De même, quelqu&apos;un habile avec un couteau n&apos;achètera probablement pas un <a href="https://www.slapchop.com/" target="_blank">SlapChop</a>. Il y a bien sûr une place pour les mixeurs et les robots culinaires, mais elle est plus petite que vous ne le pensez. Personne ne fait de publicité sur la façon dont vous pouvez être indépendant et autosuffisant sans aucun inconvénient sérieux. Il n&apos;y a pas d&apos;argent à se faire dans ce domaine !</p>
<blockquote>
<h2 id="parenthèse-sur-la-conception-des-langages">Parenthèse sur la conception des langages</h2>
<p>Considérer les types comme des ensembles de cette manière peut également être utile pour expliquer pourquoi un langage semblerait « facile », « restrictif » ou « sujets aux erreurs » pour certaines personnes. Par exemple:</p>
<ul>
<li><p><strong>Java</strong> — Il existe des valeurs primitives comme <code>Bool</code> et <code>String</code>. À partir de là, vous pouvez créer des classes avec un ensemble fixe de champs de différents types. Cela ressemble beaucoup aux enregistrements dans Elm, vous permettant de multiplier les cardinalités. Mais il est assez difficile d&apos;avoir l&apos;addition de cardinalité. Vous pouvez le faire avec le sous-typage, mais c&apos;est un processus assez complexe. Ainsi, là où <code>Result Bool Couleur</code> est facile en Elm, c&apos;est assez difficile en Java. Je pense que certaines personnes trouvent Java &quot;restrictif&quot; car concevoir un type avec une cardinalité de 5 est assez difficile, donnant souvent l&apos;impression que cela n&apos;en vaut pas la peine.</p>
</li>
<li><p><strong>JavaScript</strong> — Là encore, il existe des valeurs primitives telles que <code>Bool</code> et <code>String</code>. De là, vous pouvez créer des objets avec un ensemble dynamique de champs, vous permettant de multiplier les cardinalités. C&apos;est beaucoup plus léger que de créer des classes. Mais tout comme en Java, faire des additions de cardinalités n&apos;est pas particulièrement facile. Par exemple, vous pouvez simuler <code>Maybe Int</code> avec des objets comme <code>{ tag: &quot;just&quot;, value: 42 }</code> et <code>{ tag: &quot;nothing&quot; }</code>, mais c&apos;est dans les faits une multiplication de cardinalité. Il est donc assez difficile de faire correspondre exactement l&apos;ensemble de valeurs valides dans la vie réelle. Je pense donc que les gens trouvent JavaScript &quot;facile&quot; car concevoir un type avec cardinalité (∞ × ∞ × ∞) est super facile et cela peut convenir à peu près à tout, mais d&apos;autres le trouvent &quot;sujet aux erreurs&quot; car concevoir un type avec cardinalité 5 n&apos;est pas vraiment possible, laissant beaucoup de place pour les données invalides.</p>
</li>
</ul>
<p>Fait intéressant, certains langages impératifs ont des types personnalisés ! Rust en est un excellent exemple. Ils les appellent <a href="https://doc.rust-lang.org/book/second-edition/ch06-01-defining-an-enum.html" target="_blank">enums</a> pour profiter des habitudes que les gens peuvent avoir de C et Java. Ainsi, en Rust, l&apos;ajout de cardinalités est aussi simple qu&apos;en Elm, et cela apporte les mêmes avantages !</p>
<p>Je pense que le point ici est que « l&apos;addition » de types est extraordinairement sous-estimée en général, et considérer les types comme  des ensembles aide à clarifier pourquoi certaines conceptions de langages peuvent produire certaines frustrations.</p>
</blockquote>
<hr>
<p><a href="https://github.com/elm-france/guide.elm-lang.org/tree/master/book/appendix/types_as_sets.md" target="_blank">Source de cette page</a> —
<a href="https://github.com/elm-france/guide.elm-lang.org/edit/master/book/appendix/types_as_sets.md" target="_blank">Suggérer une modification</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="types_as_bits.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Les types en tant que bits">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Les types en tant qu'ensembles","level":"1.12.1","depth":2,"next":{"title":"Les types en tant que bits","level":"1.12.2","depth":2,"path":"appendix/types_as_bits.md","ref":"appendix/types_as_bits.md","articles":[]},"previous":{"title":"Annexes","level":"1.12","depth":1,"ref":"","articles":[{"title":"Les types en tant qu'ensembles","level":"1.12.1","depth":2,"path":"appendix/types_as_sets.md","ref":"appendix/types_as_sets.md","articles":[]},{"title":"Les types en tant que bits","level":"1.12.2","depth":2,"path":"appendix/types_as_bits.md","ref":"appendix/types_as_bits.md","articles":[]},{"title":"Types de fonctions","level":"1.12.3","depth":2,"path":"appendix/function_types.md","ref":"appendix/function_types.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["elm-repl","bulk-redirect","-sharing","french-typography"],"root":"book","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"bulk-redirect":{"basepath":"/","redirectsFile":"redirects.json"},"elm-repl":{},"french-typography":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Evan Czaplicki","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Une introduction à Elm","gitbook":"*","description":"Apprenez les fondamentaux de la programmation en Elm, construisez des applications Web et découvrez la programmation fonctionnelle."},"file":{"path":"appendix/types_as_sets.md","mtime":"2022-04-12T18:31:48.390Z","type":"markdown"},"gitbook":{"version":"3.7.1","time":"2022-04-12T18:32:06.846Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-elm-repl/repl.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

